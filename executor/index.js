module.exports=function(e,t){"use strict";var n={};function __webpack_require__(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,__webpack_require__);r.l=true;return r.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(25)}t(__webpack_require__);return startup()}({25:function(e,t,n){"use strict";n.r(t);var r=n(796);var i=n(622);var o=n(705);var u=undefined&&undefined.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};class CommandExecutor_CommandExecutor{constructor(e,t){if(typeof e!=="string"||e.length<=0){throw new Error(`Invalid command executor directory.`)}if(typeof t!=="string"||t.length<=0){throw new Error(`Invalid SDE path prefix.`)}this._directory=e;this._sdePathPrefix=t;this.sdePath=null}execute(e,t,n=false,r=false){return u(this,void 0,void 0,function*(){if(typeof e!=="string"||e.length<=0){throw new Error(`Can't execute empty command.`)}let i={cwd:this._directory};if(n===true){i.listeners={stdout:e=>this.processOutput(e),stderr:e=>this.processError(e)}}const u=process.platform==="linux";try{if(u&&r){const n=typeof t!=="undefined"&&t.length>0?["--auto-servernum",e].concat(t):["--auto-servernum",e];yield Object(o.exec)("xvfb-run",n)}else{yield Object(o.exec)(e,t,i)}}finally{if(u&&r){yield this.cleanUpXvfb()}}})}prepare(){return u(this,void 0,void 0,function*(){if(process.platform!=="linux"){return}yield Object(o.exec)("sudo apt-get install xvfb")})}cleanUpXvfb(){return u(this,void 0,void 0,function*(){try{yield Object(o.exec)("bash",["./cleanup.sh"])}catch(e){}})}processOutput(e){if(e){const t=e.toString();if(t.startsWith(this._sdePathPrefix)){this.sdePath=t.substring(this._sdePathPrefix.length).trim()}else{Object(r.debug)(t)}}}processError(e){if(e){Object(r.error)(e.toString())}}static create(e,t){return u(this,void 0,void 0,function*(){const n=new CommandExecutor_CommandExecutor(e,t);yield n.prepare();return n})}}var c=undefined&&undefined.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};const a=Object(i.join)(__dirname,"../installer");const s="index.js";const f=`SDE_PATH:`;function run(){return c(this,void 0,void 0,function*(){try{const e=Object(r.getInput)("environmentVariableName")||"SDE_PATH";Object(r.debug)(`environmentVariableName: ${e}`);if(!e||e.length<=0){Object(r.setFailed)("Missing enviroment variable name.");return}Object(r.warning)(`Installer path: ${a}`);const t=yield CommandExecutor_CommandExecutor.create(a,f);yield t.execute("npm",["install"]);yield t.execute("node",[s],true);if(!t.sdePath||t.sdePath.length<=0){throw new Error("Could not provide SDE binaries path.")}Object(r.exportVariable)(e,t.sdePath)}catch(e){Object(r.setFailed)(`An error has occured while setuping SDE binaries: ${e.message}`)}})}run()},622:function(e){e.exports=require("path")},705:function(){eval("require")("@actions/exec")},796:function(){eval("require")("@actions/core")}},function(e){"use strict";!function(){e.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}}();!function(){var t=Object.prototype.hasOwnProperty;e.d=function(e,n,r){if(!t.call(e,n)){Object.defineProperty(e,n,{enumerable:true,get:r})}}}();!function(){e.t=function(t,n){if(n&1)t=this(t);if(n&8)return t;if(n&4&&typeof t==="object"&&t&&t.__esModule)return t;var r=Object.create(null);e.r(r);Object.defineProperty(r,"default",{enumerable:true,value:t});if(n&2&&typeof t!="string")for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r}}();!function(){e.n=function(t){var n=t&&t.__esModule?function getDefault(){return t["default"]}:function getModuleExports(){return t};e.d(n,"a",n);return n}}()});